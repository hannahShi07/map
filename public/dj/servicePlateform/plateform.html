<!DOCTYPE html>
<html lang="en"  class="plate-bc">
<head>
    <meta charset="UTF-8">
    <title>智慧大屏</title>
    <link rel="stylesheet" href="css/plateform.css">
    <script src="../js/common.js" type="text/javascript"></script>
</head>
<body>
    <div class="plateform-wrap plate-bc clearfix">
        <div class="plate-tit">
            <span class="txt">经济开发区智慧党建大数据服务平台</span>
            <a href="organization.html" class="rightlink" target="_blank">党组织</a>
        </div>
        <!-- 左侧29% -->
        <div class="left-wrap fl">
            <!--党支部建制统计-->
            <div class="p-container">
               <div class="innerblock">
                   <div class="tit">
                       <span class="txt">党支部建制统计</span>
                   </div>
                   <div class="con">
                       <ul>
                           <li class="data-wrap">
                               <div class="left-label">30%</div>
                               <div class="right-con">党委占比</div>
                           </li>
                           <li class="data-wrap">
                               <div class="left-label">35%</div>
                               <div class="right-con">党支部占比</div>
                           </li>
                           <li class="data-wrap">
                               <div class="left-label">35%</div>
                               <div class="right-con">党总支部占比</div>
                           </li>
                       </ul>
                   </div>
               </div>
            </div>

            <!--党员人数-->
            <div class="p-container">
                <div class="innerblock">
                    <div class="tit">
                        <span class="txt">党员人数</span>
                    </div>
                    <div class="con">
                        <div class="data-wrap2">
                            <div class="leftbox">
                                <div class="circle-wrap">
                                    <i>1万人</i>
                                </div>
                                <p class="labeltxt">总党员人数</p>
                            </div>
                            <div class="rightbox">
                                <ul>
                                    <li class="data-cell">
                                        <label for="">A类：</label>
                                        <div class="data-bar"><span class="bar">3000</span></div>
                                        <span class="unit"><i>人</i></span>
                                    </li>
                                    <li class="data-cell">
                                        <label for="">B类：</label>
                                        <div class="data-bar"><span class="bar">2000</span></div>
                                        <span class="unit"><i>人</i></span>
                                    </li>
                                    <li class="data-cell">
                                        <label for="">C类：</label>
                                        <div class="data-bar"><span class="bar">3000</span></div>
                                        <span class="unit"><i>人</i></span>
                                    </li>
                                    <li class="data-cell">
                                        <label for="">D类：</label>
                                        <div class="data-bar"><span class="bar">2000</span></div>
                                        <span class="unit"><i>人</i></span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--组织数-->
            <div class="p-container">
                <div class="innerblock">
                    <div class="tit">
                        <span class="txt">组织数</span>
                    </div>
                    <div class="con">
                        <div class="data-wrap2">
                            <div class="leftbox">
                                <div class="circle-wrap">
                                    <i>3000</i>
                                </div>
                                <p class="labeltxt">总组织数</p>
                            </div>
                            <div class="rightbox">
                                <ul>
                                    <li class="data-cell">
                                        <label for="">A类：</label>
                                        <div class="data-bar"><span class="bar">1000</span></div>
                                        <span class="unit"><i>个</i></span>
                                    </li>
                                    <li class="data-cell">
                                        <label for="">B类：</label>
                                        <div class="data-bar"><span class="bar">1000</span></div>
                                        <span class="unit"><i>个</i></span>
                                    </li>
                                    <li class="data-cell">
                                        <label for="">C类：</label>
                                        <div class="data-bar"><span class="bar">1000</span></div>
                                        <span class="unit"><i>个</i></span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 中间42% -->
        <div class="center-wrap fl">
            <!--党员职业分布占比-->
            <div class="chart-wrap">
                <div id="chart1" style="width: 684px;height:270px;margin: 0 auto;"></div>
            </div>

            <!--党员总数按年份变化图-->
            <div class="p-container p-container2" style="margin-top: 24px;">
                <div class="innerblock">
                    <div class="tit">
                        <span class="txt">党员总数</span>
                    </div>
                    <div class="con">
                        <div class="chart-wrap">
                            <span class="top-unit">单位/人</span>
                            <div id="chart4" style="width: 100%;height: 210px;margin: 0 auto;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!--三会一课-->
            <div class="p-container p-container2 p-container3" style="margin-top:48px;">
                <div class="innerblock">
                    <div class="tit">
                        <span class="txt">三会一课</span>
                    </div>
                    <div class="con">
                        <div class="chart-wrap">
                            <span class="top-unit">单位/次</span>
                            <span class="bottom-unit">月/2019年</span>
                            <div id="chart5" style="width: 100%;height: 220px;margin: 0 auto;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--右侧29%-->
        <div class="right-wrap fr">
            <!--党员男女人数-->
            <div class="p-container">
                <div class="innerblock">
                    <div class="tit">
                        <span class="txt">党员男女人数</span>
                    </div>
                    <div class="con">
                        <div class="data-wrap2">
                            <div class="leftbox">
                                <div class="circle-wrap">
                                    <i>1万人</i>
                                </div>
                                <p class="labeltxt">总党员人数</p>
                            </div>
                            <div class="rightbox" style="vertical-align: middle">
                                <ul>
                                    <li class="data-cell">
                                        <label for="">男性：</label>
                                        <div class="data-bar"><span class="bar">6000</span></div>
                                        <span class="unit"><i>人</i></span>
                                    </li>
                                    <li class="data-cell">
                                        <label for="">女性：</label>
                                        <div class="data-bar"><span class="bar">4000</span></div>
                                        <span class="unit"><i>人</i></span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--学历人数-->
            <div class="p-container">
                <div class="innerblock">
                    <div class="tit">
                        <span class="txt">学历人数</span>
                    </div>
                    <div class="con">
                        <div class="chart-wrap">
                            <div id="chart2" style="width: 340px;height: 180px;margin: 0 auto;"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!--党员类型-->
            <div class="p-container">
                <div class="innerblock">
                    <div class="tit">
                        <span class="txt">党员类型</span>
                    </div>
                    <div class="con">
                        <div class="chart-wrap">
                            <div id="chart3" style="width: 340px;height: 182px;margin: 0 auto;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="js/jquery.js"></script>
    <script src="js/echarts.js"></script>
    <script>
        var dataPieXl = {
            dataName:["博士","硕士","本科","专科","其他"],
            dataValue:[12,24,58,20,10],
        };
        var dataPieLx = {
            dataName:["正式党员","预备党员","其他"],
            dataValue:[60,40,20],
        };
        var myChart1 = echarts.init(document.getElementById('chart1'));
        var myChart2 = echarts.init(document.getElementById('chart2'));
        var myChart3 = echarts.init(document.getElementById('chart3'));
        var myChart4 = echarts.init(document.getElementById('chart4'));
        var myChart5 = echarts.init(document.getElementById('chart5'));
        option1 = {
            color:["#b39ddb","#ffc102","#39d3dd","#ff7324","#36a4df"],
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b}: {c} ({d}%)"
            },
            legend: {
                type: 'scroll',
                icon: 'rect',
                itemHeight:'20',
                itemGap:20,
                orient: 'vertical',
                x: '400',
                y:'30',
                data:['职业1','职业2','职业3','职业4','其他'],
                textStyle:{
                    fontSize:'20',
                    color:'#fff',
                    textAlign:'left'
                }
            },
            series: [
                {
                    name:'党员职业',
                    type:'pie',
                    center: ['24%', '48%'],
                    radius: ['60%', '90%'],
                    avoidLabelOverlap: false,
                    label: {
                        normal: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            show: true,
                            textStyle: {
                                fontSize: '30',
                                fontWeight: 'bold'
                            }
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    },
                    data:[
                        {value:335, name:'职业1'},
                        {value:310, name:'职业2'},
                        {value:234, name:'职业3'},
                        {value:135, name:'职业4'},
                        {value:1548, name:'其他'}
                    ]
                }
            ]
        };
        option2 = {
            tooltip: {
                trigger: 'item',
                formatter: "{b}: {c} ({d}%)"
            },
            grid: {
                "left": "50%",
                "right": "1%",
                "top": "1%",
                height:"50%",
                containLabel: true
            },
            legend: {
                left: 'right',
                top:'center',
                bottom: '2%',
                icon:'rect',
                orient: 'vertical',
                x: 'right',
                itemWidth: 12,
                itemHeight:12,
                textStyle:{
                    color:["#b39ddb","#ffc102","#39d3dd","#ff7324","#36a4df"],
                    fontSize:12
                },
                data:dataPieXl.dataName,
                formatter: function(name) {
                    var index = 0;
                    dataPieXl.dataName.forEach(function(value,i){
                        if(value == name){
                            index = i;
                        }
                    });
                    return name + " " + dataPieXl.dataValue[index] + "%";
                }

            },
            series: [
                {
                    name: '',
                    type: 'pie',
                    radius: '90%',
                    center: ['40%', '50%'],
                    calculable:true,
                    clockwise: true,
                    data: [{
                        value: 12,
                        name: '博士'
                    }, {
                        value: 24,
                        name: '硕士'
                    }, {
                        value: 58,
                        name: '本科'
                    },{
                        value: 20,
                        name: '专科'
                    },{
                        value: 10,
                        name: '其他'
                    }
                    ],

                    label: {
                        normal: {
                            formatter: '{b}{c}%',
                            position:'inner',
                            textStyle: {
                                color: '#fff',
                                fontSize: 12,
                            }
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    },
                    itemStyle: {
                        normal: {
                            borderWidth: 1,
//                    borderColor: '#ffffff',
                        },
                        emphasis: {
                            borderWidth: 0,
                            shadowBlur: 10,
                            shadowOffsetX: 0,
//                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                },

            ],
            color:["#b39ddb","#ffc102","#39d3dd","#ff7324","#36a4df"]

        };
        option3 = {
            tooltip: {
                trigger: 'item',
                formatter: "{b}: {c} ({d}%)"
            },
            grid: {
                "left": "50%",
                "right": "1%",
                "top": "1%",
                height:"50%",
                containLabel: true
            },
            legend: {
                left: 'right',
                top:'center',
                bottom: '2%',
                icon:'rect',
                orient: 'vertical',
                x: 'right',
                itemWidth: 12,
                itemHeight:12,
                textStyle:{
                    color:["#b39ddb","#ffc102","#39d3dd","#ff7324","#36a4df"],
                    fontSize:12
                },
                data:dataPieLx.dataName,
                formatter: function(name) {
                    var index = 0;
                    dataPieLx.dataName.forEach(function(value,i){
                        if(value == name){
                            index = i;
                        }
                    });
                    return name + " " + dataPieLx.dataValue[index] + "%";
                }

            },
            series: [
                {
                    name: '',
                    type: 'pie',
                    radius: '90%',
                    center: ['40%', '50%'],
                    calculable:true,
                    clockwise: true,
                    data: [{
                        value: 60,
                        name: '正式党员'
                    }, {
                        value: 40,
                        name: '预备党员'
                    }, {
                        value: 20,
                        name: '其他'
                    }
                    ],

                    label: {
                        normal: {
                            formatter: '{b}{c}%',
                            position:'inner',
                            textStyle: {
                                color: '#fff',
                                fontSize: 12,
                            }
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    },
                    itemStyle: {
                        normal: {
                            borderWidth: 1,
//                    borderColor: '#ffffff',
                        },
                        emphasis: {
                            borderWidth: 0,
                            shadowBlur: 10,
                            shadowOffsetX: 0,
//                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                },

            ],
            color:["#b39ddb","#ffc102","#39d3dd","#ff7324","#36a4df"]

        };
        option4 = {
            color:["#6a9cd5"],
            tooltip: {
                trigger: 'axis',
                formatter: "{b}: {c}人"
            },
            grid: {
                top: '8%',
                left: '1%',
                right: '4%',
                bottom: '4%',
                containLabel: true,
            },
            xAxis: [{
                type: 'category',
                boundaryGap: false,
                axisLine: { //坐标轴轴线相关设置。数学上的x轴
                    show: true,
                    lineStyle: {
                        color: '#233e64'
                    },
                },
                axisLabel: { //坐标轴刻度标签的相关设置
                    textStyle: {
                        color: '#6a9cd5',
                        margin:15,
                    },
                },
                axisTick: { show: false,},
                data: ['2013年', '2014年', '2015年', '2016年', '2017年', '2018年', '2019年'],
            }],
            yAxis: [{
                type: 'value',
                min: 0,
                max:1400,
                splitNumber: 7,
                splitLine: {
                    show: true,
                    lineStyle: {
                        color: '#233e64'
                    }
                },
                axisLine: {show: false,},
                axisLabel: {
                    margin:20,
                    textStyle: {
                        color: '#6a9cd5',

                    },
                },
                axisTick: { show: false,},
            }],
            series: [{
                name: '党员总数',
                type: 'line',
                smooth: true, //是否平滑曲线显示
                symbolSize:0,
                lineStyle: {
                    normal: {
                        color: "#3deaff"   // 线条颜色
                    }
                },
                areaStyle: { //区域填充样式
                    normal: {
                        //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            { offset: 0,  color: 'rgba(61,234,255, 0.9)'},
                            { offset: 0.9,  color: 'rgba(61,234,255, 0)'}
                        ], false),

                        shadowColor: 'rgba(53,142,215, 0.9)', //阴影颜色
                        shadowBlur: 20 //shadowBlur设图形阴影的模糊大小。配合shadowColor,shadowOffsetX/Y, 设置图形的阴影效果。
                    }
                },
                data: [900, 1050, 840, 1250, 1100, 920, 980]
            }]
        };
        option5 = {
            color:["#6a9cd5"],
            tooltip: {
                trigger: 'axis',
                formatter: "{b}月: {c}次"
            },
            grid: {
                top: '12%',
                left: '1%',
                right: '4%',
                bottom: '4%',
                containLabel: true,
            },
            xAxis: [{
                type: 'category',
                boundaryGap: false,
                axisLine: { //坐标轴轴线相关设置。数学上的x轴
                    show: true,
                    lineStyle: {
                        color: '#233e64'
                    },
                },
                axisLabel: { //坐标轴刻度标签的相关设置
                    textStyle: {
                        color: '#6a9cd5',
                        margin:15,
                    },
                },
                axisTick: { show: false,},
                data: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
            }],
            yAxis: [{
                type: 'value',
                min: 0,
                max:600,
                splitNumber: 7,
                splitLine: {
                    show: true,
                    lineStyle: {
                        color: '#233e64'
                    }
                },
                axisLine: {show: false,},
                axisLabel: {
                    margin:20,
                    textStyle: {
                        color: '#6a9cd5',

                    },
                },
                axisTick: { show: false,},
            }],
            series: [{
                name: '三会一课',
                type: 'line',
                smooth: true, //是否平滑曲线显示
                symbolSize:0,
                lineStyle: {
                    normal: {
                        color: "#3deaff"   // 线条颜色
                    }
                },
                areaStyle: { //区域填充样式
                    normal: {
                        //线性渐变，前4个参数分别是x0,y0,x2,y2(范围0~1);相当于图形包围盒中的百分比。如果最后一个参数是‘true’，则该四个值是绝对像素位置。
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            { offset: 0,  color: 'rgba(61,234,255, 0.9)'},
                            { offset: 0.9,  color: 'rgba(61,234,255, 0)'}
                        ], false),

                        shadowColor: 'rgba(53,142,215, 0.9)', //阴影颜色
                        shadowBlur: 20 //shadowBlur设图形阴影的模糊大小。配合shadowColor,shadowOffsetX/Y, 设置图形的阴影效果。
                    }
                },
                data: [300, 400, 590, 400, 300, 190, 220, 580, 600, 330, 400, 410]
            }]
        };
        myChart1.setOption(option1);
        myChart2.setOption(option2);
        myChart3.setOption(option3);
        myChart4.setOption(option4);
        myChart5.setOption(option5);

        //监听div大小变化
        (function($, h, c) {
            var a = $([]),
                e = $.resize = $.extend($.resize, {}),
                i,
                k = "setTimeout",
                j = "resize",
                d = j + "-special-event",
                b = "delay",
                f = "throttleWindow";
            e[b] = 250;
            e[f] = true;
            $.event.special[j] = {
                setup: function() {
                    if (!e[f] && this[k]) {
                        return false;
                    }
                    var l = $(this);
                    a = a.add(l);
                    $.data(this, d, {
                        w: l.width(),
                        h: l.height()
                    });
                    if (a.length === 1) {
                        g();
                    }
                },
                teardown: function() {
                    if (!e[f] && this[k]) {
                        return false;
                    }
                    var l = $(this);
                    a = a.not(l);
                    l.removeData(d);
                    if (!a.length) {
                        clearTimeout(i);
                    }
                },
                add: function(l) {
                    if (!e[f] && this[k]) {
                        return false;
                    }
                    var n;
                    function m(s, o, p) {
                        var q = $(this),
                            r = $.data(this, d);
                        r.w = o !== c ? o: q.width();
                        r.h = p !== c ? p: q.height();
                        n.apply(this, arguments);
                    }
                    if ($.isFunction(l)) {
                        n = l;
                        return m;
                    } else {
                        n = l.handler;
                        l.handler = m;
                    }
                }
            };
            function g() {
                i = h[k](function() {
                        a.each(function() {
                            var n = $(this),
                                m = n.width(),
                                l = n.height(),
                                o = $.data(this, d);
                            if (m !== o.w || l !== o.h) {
                                n.trigger(j, [o.w = m, o.h = l]);
                            }
                        });
                        g();
                    },
                    e[b]);
            }
        })(jQuery, this);
        $(".chart-wrap div").resize(function(){
            myChart4.resize();
            myChart5.resize();
        });
    </script>
</body>
</html>
